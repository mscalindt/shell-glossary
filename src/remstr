#! .desc:
# Remove a positional substring of a string
#! .params:
# <"$1"> - substring
# <"$2"> - string
# <$3> - removal_options(
#     '-remfst' - remove the first occurrence
#     '-remlst' - remove the last occurrence
#     '-remall' - remove all occurrences
#     .
# )
# [$4] - options(
#     '-delimws' - whitespace is delimiter
#     .
# )
# [$5] - type(
#     '-nout' - no output
#     .
# )
#! .gives:
# (0) <"$_str"> - string;
#                 modified $2
#! .rc:
# (0) modified $2
# (1) $1 = $2
# (2) ! $1
#.
remstr() {
    case "$2" in
        "$1") return 1 ;;
        *"$1"*) : ;;
        *) return 2 ;;
    esac

    case "$3" in
        '-remfst' | '-remall')
            _pfix="${2%%"$1"*}"
            _sfix="${2#*"$1"}"
        ;;
        '-remlst')
            _pfix="${2%"$1"*}"
            _sfix="${2##*"$1"}"
        ;;
    esac; case "$4" in
        '-delimws')
            case "$2" in
                *" $1 "* | *" $1"* | *"$1 "*)
                    _pfix="${_pfix%"${_pfix##*[! ]}"}"
                    _sfix="${_sfix#"${_sfix%%[! ]*}"}"

                    if [ "$_pfix" ] && [ "$_sfix" ]; then
                        _pfix="$_pfix "
                    fi
                ;;
            esac
        ;;
    esac; _str="$_pfix$_sfix"

    case "$3" in
        '-remall')
            while :; do case "$_str" in
                *"$1"*)
                    _pfix="${_str%%"$1"*}"
                    _sfix="${_str#*"$1"}"

                    case "$4" in
                        '-delimws')
                            case "$_str" in
                                *" $1 "* | *" $1"* | *"$1 "*)
                                    _pfix="${_pfix%"${_pfix##*[! ]}"}"
                                    _sfix="${_sfix#"${_sfix%%[! ]*}"}"

                                    if [ "$_pfix" ] && [ "$_sfix" ]; then
                                        _pfix="$_pfix "
                                    fi
                                ;;
                            esac
                        ;;
                    esac

                    _str="$_pfix$_sfix"
                ;;
                *)
                    break
                ;;
            esac done
        ;;
    esac

    [ "$_str" ] || return 1

    case "$4$5" in
        *'-nout'*) : ;;
        *) printf "%s" "$_str" ;;
    esac
}
